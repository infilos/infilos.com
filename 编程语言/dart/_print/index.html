<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.104.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=canonical type=text/html href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/dart/><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Dart 编程 | infilos.com</title><meta property="og:title" content="Dart 编程"><meta property="og:description" content="Infilos Wiki Website"><meta property="og:type" content="website"><meta property="og:url" content="/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/dart/"><meta property="og:site_name" content="infilos.com"><meta itemprop=name content="Dart 编程"><meta itemprop=description content="Infilos Wiki Website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Dart 编程"><meta name=twitter:description content="Infilos Wiki Website"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-123062585-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<link rel=preload href=/scss/main.min.5f60a6da3ce936fccd1096f5a4541bd9d925f00a0dd08f1363f26c26bfbfda5b.css as=style><link href=/scss/main.min.5f60a6da3ce936fccd1096f5a4541bd9d925f00a0dd08f1363f26c26bfbfda5b.css rel=stylesheet integrity><script src=/js/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-lg navbar-dark td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512"><path style="fill:#ffc107" d="M432.384 143.616c-4.165-4.164-10.917-4.164-15.083.0l-60.352 60.352c-4.164 4.165-4.164 10.917.0 15.083 21.187 20.463 54.951 19.876 75.413-1.311 19.962-20.668 19.962-53.435.0-74.102L432.384 143.616z"/><path style="fill:#607d8b" d="M42.667 277.334c-5.891.003-10.669-4.771-10.672-10.662-.002-4.338 2.623-8.245 6.64-9.882l234.667-96c5.455-2.233 11.687.38 13.92 5.835s-.38 11.687-5.835 13.92l-234.667 96C45.433 277.069 44.056 277.337 42.667 277.334z"/><path style="fill:#546e7a" d="M391.552 56.448l-32-32C343.938 8.745 322.689-.059 300.544.0h-3.755c-46.082.024-83.432 37.374-83.456 83.456v3.755c-.053 22.138 8.75 43.377 24.448 58.987l32 32c4.165 4.164 10.917 4.164 15.083.0L391.531 71.531C395.701 67.372 395.71 60.62 391.552 56.448z"/><path style="fill:#607d8b" d="M160 469.334c-3.279.006-6.379-1.497-8.405-4.075L34.261 315.926c-3.635-4.636-2.823-11.341 1.813-14.976s11.341-2.823 14.976 1.813l117.333 149.333c3.629 4.641 2.809 11.344-1.832 14.973C164.681 468.533 162.375 469.329 160 469.334z"/><path style="fill:#455a64" d="M487.467 86.848l-3.669-3.648c-37.687-36.557-97.71-36.197-134.955.811l-51.413 51.413c-36.996 37.25-37.357 97.263-.811 134.955l3.584 3.669c1.7 2.457 4.671 3.706 7.616 3.2 2.831.005 5.548-1.115 7.552-3.115l172.181-172.181c4.189-4.143 4.226-10.896.083-15.085-.028-.028-.055-.056-.083-.083L487.467 86.848z"/><g><path style="fill:#ffc107" d="M501.333 192H480c-5.891.0-10.667-4.776-10.667-10.667s4.776-10.667 10.667-10.667h21.333c5.891.0 10.667 4.776 10.667 10.667S507.225 192 501.333 192z"/><path style="fill:#ffc107" d="M394.667 298.667c-5.891.0-10.667-4.776-10.667-10.667v-21.333c0-5.891 4.776-10.667 10.667-10.667 5.891.0 10.667 4.776 10.667 10.667V288C405.333 293.891 400.558 298.667 394.667 298.667z"/><path style="fill:#ffc107" d="M480 277.334c-2.831.005-5.548-1.115-7.552-3.115l-21.333-21.333c-4.093-4.237-3.975-10.99.262-15.083 4.134-3.993 10.687-3.993 14.821.0l21.333 21.333c4.159 4.172 4.148 10.926-.024 15.085C485.514 276.209 482.815 277.327 480 277.334z"/></g><g><path style="fill:#455a64" d="M266.667 448H96c-29.455.0-53.333 23.878-53.333 53.333.0 5.891 4.776 10.667 10.667 10.667h256c5.891.0 10.667-4.776 10.667-10.667C320 471.878 296.122 448 266.667 448z"/><circle style="fill:#455a64" cx="32" cy="288" r="32"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></span><span class=font-weight-bold>infilos.com</span></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item style=max-width:90px;min-width:10px><a class=nav-link href=/%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86><span>基础</span></a></li><li class=nav-item style=max-width:90px;min-width:10px><a class=nav-link href=/%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80><span>语言</span></a></li><li class=nav-item style=max-width:90px;min-width:10px><a class=nav-link href=/%e6%a1%86%e6%9e%b6%e4%b8%8e%e5%ba%93><span>框架库</span></a></li><li class="nav-item dropdown" style=max-width:90px;min-width:10px><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>分布式
<span>+</span></a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/%e5%88%86%e5%b8%83%e5%bc%8f/base>基本构成</a></div></li><li class="nav-item dropdown" style=max-width:90px;min-width:10px><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>大数据
<span>+</span></a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/%e5%ad%98%e5%82%a8%e7%b3%bb%e7%bb%9f>存储系统</a>
<a class=dropdown-item href=/%e6%9f%a5%e8%af%a2%e7%b3%bb%e7%bb%9f>查询系统</a>
<a class=dropdown-item href=/%e6%b6%88%e6%81%af%e7%b3%bb%e7%bb%9f>消息系统</a>
<a class=dropdown-item href=/%e5%a4%84%e7%90%86%e7%b3%bb%e7%bb%9f>处理系统</a>
<a class=dropdown-item href=/%e6%95%b0%e6%8d%ae%e6%b2%bb%e7%90%86>数据治理</a></div></li><li class="nav-item dropdown" style=max-width:90px;min-width:10px><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中后台
<span>+</span></a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/%e5%9f%ba%e7%a1%80%e8%ae%be%e6%96%bd>基础设施</a>
<a class=dropdown-item href=/%e7%94%a8%e6%88%b7%e7%b3%bb%e7%bb%9f>用户系统</a>
<a class=dropdown-item href=/%e4%ba%a4%e4%ba%92%e7%95%8c%e9%9d%a2>交互界面</a>
<a class=dropdown-item href=/%e4%b8%9a%e5%8a%a1%e7%b3%bb%e7%bb%9f>业务系统</a></div></li><li class=nav-item style=max-width:90px;min-width:10px><a class=nav-link href=/%e6%a8%a1%e5%bc%8f%e6%9e%b6%e6%9e%84><span>模式架构</span></a></li><li class=nav-item style=max-width:90px;min-width:10px><a class=nav-link href=/%e9%9d%a2%e8%af%95%e9%97%ae%e7%ad%94><span>面试</span></a></li><li class=nav-item style=max-width:90px;min-width:10px><a class=nav-link href=/%e7%ae%a1%e7%90%86%e8%b7%af%e5%be%84><span>管理</span></a></li><li class=nav-item style=max-width:90px;min-width:10px><a class=nav-link href=/%e5%bc%80%e6%ba%90%e9%a1%b9%e7%9b%ae><span>开源⭐</span></a></li></ul><div class="form-inline my-2 my-lg-0"><div class="nav-item nav-search-item my-2 my-md-0"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/dart/>Return to the regular view of this page</a>.</p></div><h1 class=title>Dart 编程</h1><ul><li>1: <a href=#pg-4e487e66e696513bb4491de7d7f1b790>基本认识</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-4e487e66e696513bb4491de7d7f1b790>1 - 基本认识</h1><div class="pageinfo pageinfo-primary"><p><a href=https://www.toptal.com/dart/dartlang-guide-for-csharp-java-devs>原文连接：https://www.toptal.com/dart/dartlang-guide-for-csharp-java-devs</a></p></div><p>Dart 编程语言之所以重要，有以下几个原因:</p><ul><li>它兼备了两种语言的优点: 它是一种编译的、类型安全的语言(如 C# 和 Java)，同时也是一种脚本语言(如 Python 和 JavaScript)。</li><li>它转换成 JavaScript 用于 Web 前端。</li><li>它可以运行在任何平台上，并编译为本地移动应用，所以你几乎可以使用它做任何事情。</li><li>Dart 在语法上类似于 C# 和 Java，所以学起来很快。</li></ul><p>我们这些来自大型企业系统的 C# 或 Java 世界的人已经知道为什么类型安全、编译时错误和检查器很重要。我们中的许多人都在犹豫是否采用“脚本”语言，因为担心会失去我们所习惯的所有结构、速度、准确性和可调试性。</p><p>但随着 Dart 的发展，我们不需要放弃这些。我们可以用同一种语言编写移动应用程序、Web 客户端和后端——并获得我们仍然热爱 Java 和 C# 的所有东西!</p><p>为此，让我们浏览一些对 C# 或 Java 开发人员来说很新的关键 Dart 语言示例，我们将在最后的 Dart 语言 PDF 中进行总结。</p><p>注意:本文仅涉及 Dart 2.x。版本 1。x 不是“完全熟”的——特别是，类型系统是咨询型的(像 TypeScript)，而不是需要型的(像 C# 或 Java)。</p><h2 id=1-代码组织>1. 代码组织</h2><p>首先，我们将讨论最重要的区别之一:如何组织和引用代码文件。</p><h3 id=源文件作用域命名空间引入>源文件、作用域、命名空间、引入</h3><p>在 C# 中，类的集合被编译为程序集。每个类都有一个名称空间，名称空间通常反映文件系统中源代码的组织——但是最后，程序集不保留任何关于源代码文件位置的信息。
在 Java 中，源文件是包的一部分，名称空间通常符合文件系统的位置，但最终，包只是类的集合。
因此，两种语言都有一种方法使源代码在一定程度上独立于文件系统。</p><p>相比之下，在 Dart 语言中，每个源文件必须导入它引用的所有内容，包括其他源文件和第三方包。没有相同的命名空间，通常通过文件系统位置来引用文件。变量和函数可以是顶层的，而不仅仅是类。在这些方面，Dart 更像脚本。
因此，您需要将思路从“类的集合”转变为“包含的代码文件序列”。
Dart 支持包组织或不使用包的临时组织。让我们从一个没有包的例子开始，来说明包含的文件的顺序:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// file1.dart
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>alice</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// top level variable
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>barry</span><span style=color:#000;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// top level function
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>student</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Charlie</span><span style=color:#000;font-weight:700>();</span> <span style=color:#8f5902;font-style:italic>// top level variable; Charlie is declared below but that&#39;s OK
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Charlie</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>...</span> <span style=color:#000;font-weight:700>}</span> <span style=color:#8f5902;font-style:italic>// top level class
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// alice = 2; // top level statement not allowed
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// file2.dart
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#4e9a06>&#39;file1.dart&#39;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// causes all of file1 to be in scope
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>alice</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// 1
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>源文件中引用的所有内容都必须在该文件中声明或导入，因为没有“项目”级别，也没有其他方法在范围中包含其他源元素。
在 Dart 中，名称空间的唯一用途是为导入提供一个名称，这将影响您如何从该文件引用导入的代码。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// file2.dart
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#4e9a06>&#39;file1.dart&#39;</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>wonderland</span><span style=color:#000;font-weight:700>;</span> 
</span></span><span style=display:flex><span><span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>wonderland</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>alice</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// 1
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=包package>包：package</h3><p>上面的例子在不使用包的情况下组织代码。为了使用包，代码要以更特定的方式组织起来。下面是一个名为apple的包布局示例:</p><ul><li><code>apples/</code><ul><li><code>pubspec.yaml</code>—定义包名、依赖，以及其他设置</li><li><code>lib/</code><ul><li><code>apples.dart</code>—imports and exports; 其他人通过引入该文件来消费这个包</li><li><code>src/</code><ul><li><code>seeds.dart</code>—其他代码</li></ul></li></ul></li><li><code>bin/</code><ul><li><code>runapples.dart</code>—包含主函数，作为入口点 (如果这是一个可运行的包或包含可运行的工具)</li></ul></li></ul></li></ul><p>然后你可以导入整个包而不再是导入单个文件:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#4e9a06>&#39;package:apples&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>重要的应用程序应该始终组织为包。这减少了在每个引用文件中重复文件系统路径的工作量;另外，它们跑得更快。它还可以很容易地在 pub.dev 上共享您的包，其他开发人员可以很容易地获取它供自己使用。应用程序使用的包会导致源代码被复制到文件系统中，所以你可以随心所欲地深入调试这些包。</p><h2 id=2-数据类型>2. 数据类型</h2><p>需要注意的是，在 Dart 的类型系统中有一些主要的差异，比如空值、数字类型、集合和动态类型。</p><h3 id=到处都是-null>到处都是 Null</h3><p>由于来自 C# 或 Java，我们习惯于将基本类型或值类型与引用或对象类型区分开来。实际上，值类型是在堆栈或寄存器中分配的，值的副本作为函数参数发送。引用类型被分配到堆上，只有指向对象的指针作为函数参数发送。由于值类型总是占用内存，值类型变量不能为空，而且所有值类型成员必须有初始值。
Dart 消除了这种区别，因为所有东西都是物体;所有类型最终都派生自 Object 类型。所以，这是合法的:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>i</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><p>事实上，所有原语都隐式初始化为 null。这意味着您不能像在 C# 或 Java 中那样假定整数的默认值为零，并且您可能需要添加 null 检查。
有趣的是，即使是 Null 也是一种类型，单词 Null 指的是 Null 的实例:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>runtimeType</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// prints Null
</span></span></span></code></pre></div><h3 id=数字类型并不多>数字类型并不多</h3><p>与我们熟悉的 8 到 64 位的有符号和无符号整数类型不同，Dart 的主要整数类型只是 int，一个 64 位值。(对于非常大的数字，还有 BigInt。)
由于没有字节数组作为语言语法的一部分，二进制文件内容可以作为整数列表进行处理，即 <code>List&lt;Int></code>。
如果你认为这肯定是非常低效的，设计师已经想到了。在实践中，根据运行时使用的实际整数值，有不同的内部表示形式。运行时不会为 int 对象分配堆内存，如果它可以优化它，并在开箱模式下使用 CPU 寄存器。另外，库byte_data 提供了 UInt8List 和其他一些优化的表示。</p><h3 id=集合>集合</h3><p>集合和泛型很像我们习惯使用的东西。需要注意的主要事项是没有固定大小的数组:只要在需要使用数组的地方使用 List 数据类型即可。
此外，还提供了对三种集合类型初始化的语法支持:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>a</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>];</span> <span style=color:#8f5902;font-style:italic>// inferred type is List&lt;int&gt;, an array-like ordered collection
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>b</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>};</span> <span style=color:#8f5902;font-style:italic>// inferred type is Set&lt;int&gt;, an unordered collection
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#39;a&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;b&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>};</span> <span style=color:#8f5902;font-style:italic>// inferred type is Map&lt;string, int&gt;, an unordered collection of name-value pairs
</span></span></span></code></pre></div><p>所以，在使用Java 数组、ArrayList 或 Vector 时，使用 Dart List;或 C# 数组或 List。在使用 Java/ C# HashSet 的地方使用 Set。在使用 Java HashMap 或 C# Dictionary 的地方使用 Map。</p><h3 id=动态类型静态类型>动态类型、静态类型</h3><p>在 JavaScript、Ruby 和 Python 等动态语言中，即使成员不存在，也可以引用它们。下面是一个 JavaScript 示例:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>person</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{};</span> <span style=color:#8f5902;font-style:italic>// create an empty object
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>person</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;alice&#39;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// add a member to the object
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>person</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>age</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#0000cf;font-weight:700>21</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>// refer to a property that is not in the object
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#8f5902;font-style:italic>// ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>如果你执行以上代码， <code>person.age</code> 会是 <code>undefined</code>，但确实是可以运行。</p><p>同样地，你可以在 JavaScript 中改变变量的类型:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>a</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// a is a number
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>a</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;one&#39;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// a is now a string
</span></span></span></code></pre></div><p>相比之下，在 Java 中，你不能写像上面这样的代码，因为编译器需要知道类型，它会检查所有的操作是否合法——即使你使用 var 关键字:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000>var</span> <span style=color:#000>b</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>1</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// a is an int
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// b = &#34;one&#34;; // not allowed in Java
</span></span></span></code></pre></div><p>Java 只允许使用静态类型编码。(您可以使用内省来执行一些动态行为，但它不是语法的直接组成部分。)JavaScript 和其他一些纯动态语言只允许使用动态类型编码。
Dart 语言允许以下两种情况:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// dart
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>dynamic</span> <span style=color:#000>a</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// a is an int - dynamic typing
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>a</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;one&#39;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// a is now a string
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>a</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>();</span> <span style=color:#8f5902;font-style:italic>// we can call a function on a dynamic object, to be resolved at run time
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>b</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// b is an int - static typing
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// b = &#39;one&#39;; // not allowed in Dart
</span></span></span></code></pre></div><p>Dart 具有伪类型 <code>dynamic</code>，这将导致在运行时处理所有类型逻辑。调用 <code>a.foo()</code> 的尝试不会干扰静态分析器，代码会运行，但它会在运行时失败，因为没有这样的方法。
C# 最初很像 Java，后来又加入了动态支持，所以 Dart 和 C# 在这方面是差不多的。</p><h2 id=4-函数>4. 函数</h2><h3 id=函数声明语法>函数声明语法</h3><p>与 C# 或 Java 相比，Dart 中的函数语法更轻松、更有趣。语法如下:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// functions as declarations
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>return</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>type</span> <span style=color:#000>name</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>parameters</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span><span style=color:#000>body</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>return</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>type</span> <span style=color:#000>name</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>parameters</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>expression</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// function expressions (assignable to variables, etc.)
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>(</span><span style=color:#000>parameters</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span><span style=color:#000>body</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span><span style=color:#000>parameters</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>expression</span>
</span></span></code></pre></div><p>比如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>printFoo</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;foo&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>embellish</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>s</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>toUpperCase</span><span style=color:#000;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#39;!!&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>printFoo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;foo&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000;font-weight:700>};</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>embellish</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>s</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>toUpperCase</span><span style=color:#000;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#39;!!&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span></code></pre></div><h3 id=参数传递>参数传递</h3><p>因为所有东西都是对象，包括基本类型 int 和 String，所以参数传递可能会让人困惑。虽然没有像 C# 那样传递 ref 形参，但所有的参数都是通过引用传递的，函数不能更改调用者的引用。因为对象在传递给函数时不会被克隆，所以函数可能会改变对象的属性。然而，像 int 和 String 这样的基本类型的区别实际上是没有意义的，因为这些类型是不可变的。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>id</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;alice&#39;</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Client</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>name</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>Client</span> <span style=color:#000>client</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#000>id</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// local var points to different int instance
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;bob&#39;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// local var points to different String instance
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>client</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>State</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;AK&#39;</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// property of caller&#39;s object is changed
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>name</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>client</span><span style=color:#000;font-weight:700>);</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// id == 1, name == &#39;alice&#39;, client.State == &#39;AK&#39;
</span></span></span></code></pre></div><h3 id=可选参数>可选参数</h3><p>如果你是在 C# 或 Java 的世界里，你可能会诅咒这些令人困惑的重载方法的情况:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// java
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>string</span> <span style=color:#000>arg1</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{...}</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>arg1</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>string</span> <span style=color:#000>arg2</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{...}</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>string</span> <span style=color:#000>arg1</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>Client</span> <span style=color:#000>arg2</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{...}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// call site:
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>foo</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>clientId</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>input3</span><span style=color:#ce5c00;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// confusing! too easy to misread which overload it is calling
</span></span></span></code></pre></div><p>对于 C# 可选参数，还有另一种困惑:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// C#</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>Foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>arg1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>arg2</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{...}</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>Foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>arg1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>arg3</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>arg2</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{...}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// call site:</span>
</span></span><span style=display:flex><span><span style=color:#000>Foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;alice&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// legal but confusing! too easy to misread which overload it is calling and which parameter binds to argument 7</span>
</span></span><span style=display:flex><span><span style=color:#000>Foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;alice&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>arg2</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>9</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// better</span>
</span></span></code></pre></div><p>C# 不需要在调用点命名可选参数，所以用可选参数重构方法可能会很危险。如果某些调用站点在重构后恰好是合法的，编译器将不会捕获它们。
Dart 有一种更安全、更灵活的方式。首先，重载方法不受支持。相反，有两种方法来处理可选参数:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// positional optional parameters
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>string</span> <span style=color:#000>arg1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>arg2</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>arg3</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>])</span> <span style=color:#000;font-weight:700>{...}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// call site for positional optional parameters
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;alice&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// legal
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;alice&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>12</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// legal
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>foo</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;alice&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>12</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>13</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// legal
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// named optional parameters
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>bar</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>string</span> <span style=color:#000>arg1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>arg2</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>arg3</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>})</span> <span style=color:#000;font-weight:700>{...}</span>
</span></span><span style=display:flex><span><span style=color:#000>bar</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;alice&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// legal
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>bar</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;alice&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#f57900>arg3:</span> <span style=color:#0000cf;font-weight:700>12</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// legal
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>bar</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;alice&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#f57900>arg3:</span> <span style=color:#0000cf;font-weight:700>12</span><span style=color:#000;font-weight:700>,</span> <span style=color:#f57900>arg2:</span> <span style=color:#0000cf;font-weight:700>13</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// legal; sequence can vary and names are required
</span></span></span></code></pre></div><p>不能在同一个函数声明中使用这两种样式。</p><h3 id=async-关键字位置><code>async</code> 关键字位置</h3><p>C# 的 async 关键字有一个令人困惑的位置:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#000>Task</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>Foo</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{...}</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>async</span> <span style=color:#000>Task</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>Foo</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{...}</span>
</span></span></code></pre></div><p>这意味着函数签名是异步的，但实际上只有函数实现是异步的。上面的任何一个签名都是这个接口的有效实现:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#204a87;font-weight:700>interface</span> <span style=color:#000>ICanFoo</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Task</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>Foo</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>在 Dart 语言中，async 位于更符合逻辑的位置，表示实现是异步的:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#000>Future</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>int</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>foo</span><span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>async</span> <span style=color:#000;font-weight:700>{...}</span> 
</span></span></code></pre></div><h3 id=作用域与闭包>作用域与闭包</h3><p>像 C# 和 Java 一样，Dart 在词法上是有作用域的。这意味着在块中声明的变量在块的末尾超出了作用域。所以 Dart 处理闭包的方式是一样的。</p><h3 id=属性语法>属性语法</h3><p>Java 普及了属性 get/set 模式，但语言中并没有针对它的任何特殊语法:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// java
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>private</span> <span style=color:#000>String</span> <span style=color:#000>clientName</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#000>String</span> <span style=color:#000>getClientName</span><span style=color:#ce5c00;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>clientName</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>setClientName</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>}{</span> <span style=color:#000>clientName</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>value</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>C# 有它的语法:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// C#</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>clientName</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>ClientName</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>get</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>clientName</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>set</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>clientName</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>value</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Dart 的语法支持属性略有不同:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// dart
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>string</span> <span style=color:#000>_clientName</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>string</span> <span style=color:#204a87;font-weight:700>get</span> <span style=color:#000>ClientName</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000>_clientName</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#000>string</span> <span style=color:#204a87;font-weight:700>set</span> <span style=color:#000>ClientName</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>string</span> <span style=color:#000>s</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000>_clientName</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>s</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=5-构造器>5. 构造器</h2><p>Dart 构造函数比 C# 或 Java 具有更多的灵活性。一个很好的特性是能够在同一个类中命名不同的构造函数:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Point</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Point</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>double</span> <span style=color:#000>x</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>double</span> <span style=color:#000>y</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{...}</span> <span style=color:#8f5902;font-style:italic>// default ctor
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>Point</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>asPolar</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>double</span> <span style=color:#000>angle</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>double</span> <span style=color:#000>r</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{...}</span> <span style=color:#8f5902;font-style:italic>// named ctor
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>你可以只使用类名来调用默认构造函数:
在调用构造函数体之前初始化实例成员有两种简写方式:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Client</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>_code</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>String</span> <span style=color:#000>_name</span><span style=color:#000;font-weight:700>;</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Client</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>String</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>_name</span><span style=color:#000;font-weight:700>)</span> <span style=color:#8f5902;font-style:italic>// &#34;this&#34; shorthand for assigning parameter to instance member
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>_code</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>_name</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>toUpper</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>// special out-of-body place for initializing
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#8f5902;font-style:italic>// body
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>构造函数可以运行超类构造函数并重定向到同一类中的其他构造函数:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#000>Foo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>constructor1</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>x</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>x</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// redirect to the default ctor in same class; no body allowed
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>Foo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>constructor2</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>x</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>super</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>plain</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>x</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{...}</span> <span style=color:#8f5902;font-style:italic>// call base class named ctor, then run this body
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>Foo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>constructor3</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>x</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>_b</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>x</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#0000cf;font-weight:700>1</span> <span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>super</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>plain</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>x</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{...}</span> <span style=color:#8f5902;font-style:italic>// initialize _b, then call base class ctor, then run this body
</span></span></span></code></pre></div><p>在 Java 和 C# 中，在同一个类中调用其他构造函数的构造函数，当它们都有实现时，可能会令人混淆。在 Dart 中，重定向构造函数不能有主体，这一限制迫使程序员将构造函数层变得更清晰。
还有一个 factory 关键字允许函数像构造函数一样使用，但实现只是一个常规函数。你可以使用它来返回一个缓存实例或一个派生类型的实例:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Shape</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>factory</span> <span style=color:#000>Shape</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span> <span style=color:#000>nsides</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>nsides</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Square</span><span style=color:#000;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// etc.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>s</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Shape</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>);</span> 
</span></span></code></pre></div><h2 id=6-修饰符>6. 修饰符</h2><p>在 Java 和 C# 中，我们有 private、protected 和 public 等访问修饰符。在 Dart 中，这被大大简化了:如果成员名以下划线开头，它在包内的任何地方都是可见的(包括从其他类)，而对外部调用者是隐藏的;否则，从任何地方都可以看到它。没有像 private 这样的关键字来表示可见性。
另一种修饰符控制可变性:关键字 final 和 const 就是为了这个目的，但它们的含义不同:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>a</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// a is variable, and can be reassigned later
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>b</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>a</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// b is a runtime constant, and can only be assigned once
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// c is a compile-time constant
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// const d = a + 2; // not allowed because a+2 cannot be resolved at compile time
</span></span></span></code></pre></div><h2 id=7-类继承>7. 类继承</h2><p>Dart 语言支持接口、类和一种多继承。但是，没有界面关键字;相反，所有的类也是接口，所以你可以定义一个抽象类，然后实现它:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>abstract</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>HasDesk</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isDeskMessy</span><span style=color:#000;font-weight:700>();</span> <span style=color:#8f5902;font-style:italic>// no implementation here
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Employee</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>HasDesk</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000>isDeskMessy</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#000;font-weight:700>...}</span> <span style=color:#8f5902;font-style:italic>// must be implemented here
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>使用 extends 关键字对主沿袭进行多重继承，其他类使用 with 关键字:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Employee</span> <span style=color:#204a87;font-weight:700>extends</span> <span style=color:#000>Person</span> <span style=color:#204a87;font-weight:700>with</span> <span style=color:#000>Salaried</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>HasDesk</span> <span style=color:#000;font-weight:700>{...}</span>
</span></span></code></pre></div><p>在这个声明中，Employee 类派生自 Person 和 Salaried，但是 Person 是主要的超类而 Salaried 是 mixin(次级超类)。</p><h2 id=8-操作符>8. 操作符</h2><p>有一些有趣和有用的Dart操作符是我们不习惯的。
Cascades 允许你在任何东西上使用链接模式:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#000>emp</span> <span style=color:#000;font-weight:700>..</span><span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;Alice&#39;</span> <span style=color:#000;font-weight:700>..</span><span style=color:#000>supervisor</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;Zoltron&#39;</span> <span style=color:#000;font-weight:700>..</span><span style=color:#000>hire</span><span style=color:#000;font-weight:700>();</span>
</span></span></code></pre></div><p>spread 操作符允许将集合视为初始化器中元素的列表:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>smallList</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>];</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>bigList</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>...</span><span style=color:#000>smallList</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>];</span> <span style=color:#8f5902;font-style:italic>// [0, 1, 2, 3, 4]
</span></span></span></code></pre></div><h2 id=9-线程>9. 线程</h2><p>Dart 没有线程，这使得它可以转换为 JavaScript。相反，它有“隔离”，从不能共享内存的意义上讲，它们更像是独立的进程。由于多线程编程非常容易出错，因此这种安全性被视为 Dart 的优点之一。要<a href=https://renato.athaydes.com/posts/interesting-dart-features.html#isolates>在隔离之间进行通信</a>，您需要在它们之间流数据;接收到的对象被复制到接收隔离的内存空间中。</p><h2 id=使用-dart-编程>使用 Dart 编程</h2><p>如果您是一名 C# 或 Java 开发人员，您已经知道的知识将帮助您快速学习 Dart 语言，因为它被设计为熟悉的语言。为此，我们整理了一份 Dart 小抄 PDF 供你参考，特别强调了它与 C# 和 Java 等价物的重要区别:</p><div><img src=https://infi-img.oss-cn-hangzhou.aliyuncs.com/img/20220909234605.png style=display:block;margin-left:auto;margin-right:auto;width:100% alt=20220909234605></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/infilos><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 infilos.com All Rights Reserved</small></div></div></div></footer></div><script src=/js/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script>
<script src=/js/main.min.7d5b92c4889cf0554b0ea5e2309b0b81b196aa7c9a235632938a25d9fc4d8a7c.js integrity="sha256-fVuSxIic8FVLDqXiMJsLgbGWqnyaI1Yyk4ol2fxNinw=" crossorigin=anonymous></script></body></html>